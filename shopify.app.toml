# Shopify App Configuration
# This configuration file is used by the Shopify CLI to manage your app

scopes = "read_products,read_inventory,write_draft_orders,write_orders,read_customers,write_customers"

# IMPORTANT: Update the APP_URL environment variable with your deployment URL before submitting
# The webhooks will be automatically registered at the URLs below based on APP_URL

[webhooks]
api_version = "2024-07"

# Mandatory compliance webhooks for Shopify App Store
# These webhooks handle GDPR/CPRA data requests and shop deletion

[[webhooks.subscriptions]]
topics = ["customers/data_request", "customers/redact", "shop/redact"]
uri = "https://instakrosspost.onrender.com/webhooks/shopify/customers/data_request"

# NOTE: To register webhooks with Shopify:
# 1. Update the URI above with your production domain
# 2. Run: shopify app webhook trigger --topic customers/data_request
# 3. Verify webhooks appear in Shopify Admin: Settings > Apps and integrations > Webhooks

app_type = "public"
